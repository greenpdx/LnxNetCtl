#!/bin/sh
set -e

case "$1" in
    remove|upgrade|deconfigure)
        # Stop services before removal
        if [ -d /run/systemd/system ]; then
            systemctl stop netctld.service 2>/dev/null || true
            systemctl stop netctl.service 2>/dev/null || true
            systemctl stop 'netctl@*.service' 2>/dev/null || true
            systemctl stop 'netctl-auto@*.service' 2>/dev/null || true
        fi
        ;;

    failed-upgrade)
        ;;

    *)
        echo "prerm called with unknown argument \`$1'" >&2
        exit 1
        ;;
esac

# Automatically added by dh_installsystemd/13.24.2
if [ -z "$DPKG_ROOT" ] && [ "$1" = remove ] && [ -d /run/systemd/system ] ; then
	deb-systemd-invoke stop 'netctl.service' >/dev/null || true
fi
# End automatically added section


exit 0
